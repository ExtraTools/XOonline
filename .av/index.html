<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è Admin Panel - XO Online</title>
    <link rel="stylesheet" href="css/admin.css">
    <link rel="icon" href="../public/logo.png" type="image/png">
</head>
<body>
    <!-- –§–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="auth-overlay" id="authOverlay">
        <div class="auth-container">
            <div class="auth-header">
                <h1>üîê –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏</h1>
                <p>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è</p>
            </div>
            <form class="auth-form" onsubmit="checkPassword(event)">
                <div class="input-group">
                    <input type="password" id="adminPassword" placeholder="–ü–∞—Ä–æ–ª—å" required autocomplete="off">
                    <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
                </div>
                <div class="auth-error" id="authError" style="display: none;">
                    –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!
                </div>
            </form>
            <div class="auth-footer">
                <p>‚ö†Ô∏è –ù–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω</p>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ -->
    <div class="admin-container" id="adminContainer" style="display: none;">
        <header class="admin-header">
            <div class="header-content">
                <h1>üõ°Ô∏è Admin Panel</h1>
                <div class="admin-info">
                    <span class="admin-badge">XO Online Administrator</span>
                    <span class="timestamp" id="currentTime"></span>
                    <button class="btn btn-secondary logout-btn" onclick="logout()">üö™ –í—ã–π—Ç–∏</button>
                </div>
            </div>
        </header>

        <main class="admin-main">
            <div class="admin-section">
                <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                <div class="users-controls">
                    <button class="btn btn-primary" onclick="loadUsers()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
                    <button class="btn btn-warning" onclick="resetOnlineStatuses()">‚ö° –°–±—Ä–æ—Å–∏—Ç—å –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å—ã</button>
                    <div class="search-box">
                        <input type="text" id="searchUser" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..." onkeyup="searchUsers()">
                    </div>
                </div>
                
                <div class="users-table-container">
                    <table class="users-table" id="usersTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>UUID</th>
                                <th>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
                                <th>Email</th>
                                <th>–ü–∞—Ä–æ–ª—å (hash)</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–û–Ω–ª–∞–π–Ω</th>
                                <th>–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
                        </tbody>
                    </table>
                </div>
                
                <div class="loading" id="loadingSpinner" style="display: none;">
                    <div class="spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>
                </div>
            </div>

            <div class="admin-section">
                <h2>üíÄ –°–∫—Ä–∏–º–µ—Ä-–ø–∞–Ω–µ–ª—å</h2>
                <div class="screamer-controls">
                    <div class="screamer-form">
                        <input type="text" id="targetUser" placeholder="Email –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                        <button class="btn btn-danger" onclick="sendScreamer()">üéÉ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∫—Ä–∏–º–µ—Ä</button>
                    </div>
                    <div class="screamer-info">
                        <p>‚ö†Ô∏è –°–∫—Ä–∏–º–µ—Ä –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π –≤—ã—Ö–æ–¥–∞</p>
                        <p>üî• –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –≤–µ—Å–µ–ª—å—è!</p>
                    </div>
                </div>
            </div>

            <div class="admin-section">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                        <p class="stat-number" id="totalUsers">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>–û–Ω–ª–∞–π–Ω —Å–µ–π—á–∞—Å</h3>
                        <p class="stat-number" id="onlineUsers">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö</h3>
                        <p class="stat-number" id="bannedUsers">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π —Å–µ–≥–æ–¥–Ω—è</h3>
                        <p class="stat-number" id="todayRegistrations">0</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–∫—Ä–∏–º–µ—Ä–∞ -->
        <div class="modal" id="confirmModal" style="display: none;">
            <div class="modal-content">
                <h3>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∫—Ä–∏–º–µ—Ä–∞</h3>
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∫—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é <strong id="confirmTargetUser"></strong>?</p>
                <div class="modal-actions">
                    <button class="btn btn-danger" onclick="confirmScreamer()">–î–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å!</button>
                    <button class="btn btn-secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html> 