<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ | DinosGames</title>
    
    <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="description" content="–ò–≥—Ä–∞–π—Ç–µ –≤ –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ –æ–Ω–ª–∞–π–Ω –ø—Ä–æ—Ç–∏–≤ –ò–ò –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤">
    <meta name="keywords" content="–∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏, –æ–Ω–ª–∞–π–Ω –∏–≥—Ä–∞, tic-tac-toe">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="../../css/admin.css">
    <link rel="stylesheet" href="game.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <header class="game-header">
            <div class="header-left">
                <button class="back-btn" onclick="backToLobby()">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –≤ –ª–æ–±–±–∏
                </button>
                <h1 class="game-title">
                    <i class="fas fa-times"></i> –ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏
                </h1>
            </div>
            
            <div class="header-right">
                <div class="player-info" id="player-info">
                    <img id="player-avatar" class="player-avatar" src="" alt="Avatar">
                    <div>
                        <div class="player-name" id="player-name">–ì–æ—Å—Ç—å</div>
                        <div class="player-stats">
                            –†–µ–π—Ç–∏–Ω–≥: <span id="player-rating">1000</span> | 
                            –ò–≥—Ä: <span id="player-games">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏–≥—Ä—ã -->
        <div id="game-menu" class="game-menu">
            <div class="menu-container">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏–≥—Ä—ã</h2>
                
                <div class="game-modes">
                    <!-- –ü—Ä–æ—Ç–∏–≤ –∏–≥—Ä–æ–∫–∞ -->
                    <div class="mode-card" onclick="selectMode('pvp')">
                        <i class="mode-icon fas fa-users"></i>
                        <h3>–ü—Ä–æ—Ç–∏–≤ –∏–≥—Ä–æ–∫–∞</h3>
                        <p>–ò–≥—Ä–∞–π—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏ –æ–Ω–ª–∞–π–Ω</p>
                        <div class="mode-stats">
                            <span>üèÜ –†–µ–π—Ç–∏–Ω–≥–æ–≤—ã–µ –∏–≥—Ä—ã</span>
                        </div>
                    </div>

                    <!-- –ü—Ä–æ—Ç–∏–≤ –ò–ò -->
                    <div class="mode-card" onclick="selectMode('ai')">
                        <i class="mode-icon fas fa-robot"></i>
                        <h3>–ü—Ä–æ—Ç–∏–≤ –ò–ò</h3>
                        <p>–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ—Å—å –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞</p>
                        <div class="mode-stats">
                            <span>üéØ 4 —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</span>
                        </div>
                    </div>

                    <!-- –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ -->
                    <div class="mode-card" onclick="selectMode('local')">
                        <i class="mode-icon fas fa-home"></i>
                        <h3>–õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞</h3>
                        <p>–ò–≥—Ä–∞–π—Ç–µ –≤–¥–≤–æ–µ–º –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</p>
                        <div class="mode-stats">
                            <span>üë• –î–ª—è –¥–≤–æ–∏—Ö</span>
                        </div>
                    </div>
                </div>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ò–ò -->
                <div id="ai-settings" class="ai-settings" style="display: none;">
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ò–ò</h3>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn" data-difficulty="easy">
                            <i class="fas fa-seedling"></i>
                            –õ–µ–≥–∫–∏–π
                        </button>
                        <button class="difficulty-btn" data-difficulty="medium">
                            <i class="fas fa-leaf"></i>
                            –°—Ä–µ–¥–Ω–∏–π
                        </button>
                        <button class="difficulty-btn" data-difficulty="hard">
                            <i class="fas fa-fire"></i>
                            –°–ª–æ–∂–Ω—ã–π
                        </button>
                        <button class="difficulty-btn" data-difficulty="impossible">
                            <i class="fas fa-skull"></i>
                            –ù–µ–≤–æ–∑–º–æ–∂–Ω—ã–π
                        </button>
                    </div>
                    <button class="back-btn" onclick="backToModeSelection()">
                        <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                    </button>
                </div>

                <!-- –ü–æ–∏—Å–∫ –∏–≥—Ä–æ–∫–æ–≤ -->
                <div id="matchmaking" class="matchmaking" style="display: none;">
                    <div class="loading-spinner">
                        <i class="fas fa-spinner fa-spin"></i>
                    </div>
                    <h3>–ü–æ–∏—Å–∫ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞...</h3>
                    <p>–ü–æ–¥–±–∏—Ä–∞–µ–º –∏–≥—Ä–æ–∫–∞ —Å –ø–æ—Ö–æ–∂–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º</p>
                    <button class="cancel-btn" onclick="cancelMatchmaking()">
                        <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
        <div id="game-area" class="game-area" style="display: none;">
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–µ -->
            <div class="opponent-info">
                <div class="opponent-card">
                    <img id="opponent-avatar" class="opponent-avatar" src="" alt="Opponent">
                    <div class="opponent-details">
                        <div class="opponent-name" id="opponent-name">–ò–ò –õ–µ–≥–∫–∏–π</div>
                        <div class="opponent-rating" id="opponent-rating">–†–µ–π—Ç–∏–Ω–≥: 800</div>
                    </div>
                </div>
                
                <div class="vs-indicator">VS</div>
                
                <div class="player-card">
                    <img id="game-player-avatar" class="opponent-avatar" src="" alt="You">
                    <div class="opponent-details">
                        <div class="opponent-name" id="game-player-name">–í—ã</div>
                        <div class="opponent-rating" id="game-player-rating">–†–µ–π—Ç–∏–Ω–≥: 1000</div>
                    </div>
                </div>
            </div>

            <!-- –ò–≥—Ä–æ–≤–∞—è –¥–æ—Å–∫–∞ -->
            <div class="game-board-container">
                <div class="game-status">
                    <div class="current-turn" id="current-turn">
                        –í–∞—à —Ö–æ–¥ (X)
                    </div>
                    <div class="game-timer" id="game-timer">
                        00:00
                    </div>
                </div>

                <div class="game-board" id="game-board">
                    <div class="board-cell" data-index="0"></div>
                    <div class="board-cell" data-index="1"></div>
                    <div class="board-cell" data-index="2"></div>
                    <div class="board-cell" data-index="3"></div>
                    <div class="board-cell" data-index="4"></div>
                    <div class="board-cell" data-index="5"></div>
                    <div class="board-cell" data-index="6"></div>
                    <div class="board-cell" data-index="7"></div>
                    <div class="board-cell" data-index="8"></div>
                </div>

                <div class="game-controls">
                    <button class="control-btn" onclick="surrenderGame()">
                        <i class="fas fa-flag"></i> –°–¥–∞—Ç—å—Å—è
                    </button>
                    <button class="control-btn" onclick="offerDraw()" id="draw-btn">
                        <i class="fas fa-handshake"></i> –ù–∏—á—å—è
                    </button>
                    <button class="control-btn" onclick="restartGame()">
                        <i class="fas fa-redo"></i> –ù–æ–≤–∞—è –∏–≥—Ä–∞
                    </button>
                </div>
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–≥—Ä—ã -->
        <div id="game-result" class="game-result" style="display: none;">
            <div class="result-container">
                <div class="result-icon" id="result-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <h2 class="result-title" id="result-title">–ü–æ–±–µ–¥–∞!</h2>
                <p class="result-description" id="result-description">
                    –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø–æ–±–µ–¥–æ–π!
                </p>
                
                <div class="result-stats">
                    <div class="stat-card">
                        <div class="stat-label">–†–µ–π—Ç–∏–Ω–≥</div>
                        <div class="stat-value">
                            <span id="old-rating">1000</span>
                            <i class="fas fa-arrow-right"></i>
                            <span id="new-rating">1025</span>
                            <span class="rating-change positive" id="rating-change">+25</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">–í—Ä–µ–º—è –∏–≥—Ä—ã</div>
                        <div class="stat-value" id="game-duration">02:34</div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-label">–•–æ–¥–æ–≤</div>
                        <div class="stat-value" id="moves-count">7</div>
                    </div>
                </div>

                <div class="result-actions">
                    <button class="play-btn" onclick="playAgain()">
                        <i class="fas fa-redo"></i> –ò–≥—Ä–∞—Ç—å –µ—â—ë
                    </button>
                    <button class="secondary-btn" onclick="backToMenu()">
                        <i class="fas fa-home"></i> –í –º–µ–Ω—é
                    </button>
                    <button class="secondary-btn" onclick="backToLobby()">
                        <i class="fas fa-arrow-left"></i> –í –ª–æ–±–±–∏
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ó–≤—É–∫–∏ -->
    <audio id="move-sound" preload="auto">
        <source src="../../assets/sounds/move.mp3" type="audio/mpeg">
    </audio>
    <audio id="win-sound" preload="auto">
        <source src="../../assets/sounds/win.mp3" type="audio/mpeg">
    </audio>
    <audio id="lose-sound" preload="auto">
        <source src="../../assets/sounds/lose.mp3" type="audio/mpeg">
    </audio>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notifications" class="notifications"></div>

    <!-- –°–∫—Ä–∏–º–µ—Ä (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏) -->
    <div id="screamer" class="screamer">
        <video id="screamer-video" muted loop>
            <source src="../../assets/scrim/screamer.mp4" type="video/mp4">
        </video>
        <audio id="screamer-sound" preload="auto">
            <source src="../../assets/sounds/screamer.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- JavaScript -->
    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="../../modules/socket.js"></script>
    <script type="module" src="../../modules/effects.js"></script>
    <script type="module" src="../../ai/TicTacToeAI.js"></script>
    <script type="module" src="game.js"></script>
</body>
</html> 